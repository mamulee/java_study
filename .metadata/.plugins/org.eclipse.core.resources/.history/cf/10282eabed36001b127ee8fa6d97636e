import java.util.ArrayList;
import java.util.Arrays;
import java.util.Iterator;
import java.util.List;

import javax.swing.JOptionPane;

public class Business {
	String title = "세상에서 제일 맛있는 디저트 카페";
	ArrayList<Dessert> cupcake = new ArrayList<Dessert>();
	ArrayList<Dessert> cookie = new ArrayList<Dessert>();
	ArrayList<Dessert> tart = new ArrayList<Dessert>();
	ArrayList<Dessert> macaron = new ArrayList<Dessert>();
	List<ArrayList<Dessert>> dessert = (Arrays.asList(cupcake, cookie, tart, macaron));

	//	public void test() {
	//		cupcake.add(new Dessert("컵케익"));
	//		
	//		System.out.println(cupcake.get(0).type);
	//	}

	void start() {
		boolean flag = true;
		while(flag) {
			switch(display()) {
			case 4:
				input();
				break;
			case 3:
				check();
				break;
			case 2:
				break;
			case 1:
				break;
			case 0:
				flag = false;
				JOptionPane.showMessageDialog(
						null,
						"프로그램을 종료합니다.",
						"세상에서 제일 맛있는 디저트 카페",
						JOptionPane.INFORMATION_MESSAGE
						);
			}
		}
	}

	int display() {
		String[] menu = {"종료", "정산", "판매", "조회", "입력"};
		int choice = JOptionPane.showOptionDialog(
				null, 
				"메뉴를 선택하세요: ", 
				"세상에서 제일 맛있는 디저트 가게", 
				JOptionPane.DEFAULT_OPTION, 
				JOptionPane.PLAIN_MESSAGE, 
				null, 
				menu, 
				menu[0]
				);
		return choice;
	}

	void input() {
		String[] menu = {"컵케익", "쿠키", "타르트", "마카롱"};
		String flavour;
		int price, stock;

		String input = (String) JOptionPane.showInputDialog(
				null,
				"디저트 종류를 선택하세요: ",
				"세상에서 제일 맛있는 디저트 가게",
				JOptionPane.PLAIN_MESSAGE,
				null,
				menu,
				menu[0]
				);
		JOptionPane.showMessageDialog(
				null, 
				msg,
				"세상에서 제일 맛있는 디저트 가게",
				JOptionPane.PLAIN_MESSAGE
				);
		flavour = JOptionPane.showInputDialog(
				null,
				"추가할 맛: "
				
				);
		price = Integer.parseInt(JOptionPane.showInputDialog("가격: "));
		stock = Integer.parseInt(JOptionPane.showInputDialog("수량: "));

		if (input.equals("컵케익")) {
			cupcake.add(new Dessert("컵케익", flavour, price, stock));
			JOptionPane.showMessageDialog(null, "컵케익에 "+flavour+"맛이 "+stock+"개 추가되었습니다.");
		}
		else if (input.equals("쿠키")) {
			cookie.add(new Dessert("쿠키", flavour, price, stock));
			JOptionPane.showMessageDialog(null, "쿠키에 "+flavour+"맛이 "+stock+"개 추가되었습니다.");
		}
		else if (input.equals("타르트")) {
			tart.add(new Dessert("타르트", flavour, price, stock));
			JOptionPane.showMessageDialog(null, "타르트에 "+flavour+"맛이 "+stock+"개 추가되었습니다.");
		}
		else if (input.equals("마카롱")) {
			macaron.add(new Dessert("마카롱", flavour, price, stock));
			JOptionPane.showMessageDialog(null, "마카롱에 "+flavour+"맛이 "+stock+"개 추가되었습니다.");
		}
	}

	void check() {
		String[] menu = {"컵케익", "쿠키", "타르트", "마카롱"};
		String input = (String) JOptionPane.showInputDialog(

				null,
				"디저트 종류를 선택하세요: ",
				"세상에서 제일 맛있는 디저트 가게",
				JOptionPane.PLAIN_MESSAGE,
				null,
				menu,
				menu[0]

				);
		if(input.equals("컵케익")) {
			String msg = "====컵케익====\n"
					+ "맛\t가격\t개수\n";
			Iterator<Dessert> itr = cupcake.iterator();
			while(itr.hasNext()) {
				Dessert d = itr.next();
				msg += d.toString()+"\n";
			}
			JOptionPane.showMessageDialog(
					null, 
					msg,
					"세상에서 제일 맛있는 디저트 가게",
					JOptionPane.PLAIN_MESSAGE
					);
		}
		else if(input.equals("쿠키")) {
			String msg = "====쿠 키====\n"
					+ "맛\t가격\t개수\n";
			Iterator<Dessert> itr = cookie.iterator();
			while(itr.hasNext()) {
				Dessert d = itr.next();
				msg += d.toString()+"\n";
			}
			JOptionPane.showMessageDialog(
					null, 
					msg,
					"세상에서 제일 맛있는 디저트 가게",
					JOptionPane.PLAIN_MESSAGE
					);
		}
		else if(input.equals("타르트")) {
			String msg = "====타르트====\n"
					+ "맛\t가격\t개수\n";
			Iterator<Dessert> itr = tart.iterator();
			while(itr.hasNext()) {
				Dessert d = itr.next();
				msg += d.toString()+"\n";
			}
			JOptionPane.showMessageDialog(
					null, 
					msg,
					"세상에서 제일 맛있는 디저트 가게",
					JOptionPane.PLAIN_MESSAGE
					);
		}
		else if(input.equals("쿠키")) {
			String msg = "====마카롱====\n"
					+ "맛\t가격\t개수\n";
			Iterator<Dessert> itr = macaron.iterator();
			while(itr.hasNext()) {
				Dessert d = itr.next();
				msg += d.toString()+"\n";
			}
			JOptionPane.showMessageDialog(
					null, 
					msg,
					"세상에서 제일 맛있는 디저트 가게",
					JOptionPane.PLAIN_MESSAGE
					);
		}
	} // end check()

	void sell() {
		String[] menu = {"돌아가기", "마카롱", "타르트", "쿠키", "컵케익"};
		int choice = JOptionPane.showOptionDialog(
				null, 
				"판매한 디저트 종류를 선택하세요: ", 
				"세상에서 제일 맛있는 디저트 가게", 
				JOptionPane.DEFAULT_OPTION, 
				JOptionPane.PLAIN_MESSAGE, 
				null, 
				menu,
				menu[0]
				);
		switch(choice) {
		case 4:
			String[] flavour = new String[cupcake.size()];
			int cnt = 0;
			Iterator<Dessert> itr = cupcake.iterator();
			while(itr.hasNext()) {
				Dessert d = itr.next();
				flavour[cnt++] = d.flavour;
			}

			int c = JOptionPane.showOptionDialog(
					null, 
					"판매한 컵케익의 맛을 선택하세요: ", 
					"세상에서 제일 맛있는 디저트 가게", 
					JOptionPane.DEFAULT_OPTION, 
					JOptionPane.PLAIN_MESSAGE, 
					null,
					flavour,
					flavour[0]
					);
			int num = Integer.parseInt(JOptionPane.showInputDialog("판매한 수량: "));
			cupcake.get(c).sales = num;
			cupcake.get(c).stock -= num;
			String msg = "남은 "+cupcake.get(c).flavour+" 수량: "+cupcake.get(c).stock+"개";
			JOptionPane.showMessageDialog(
					null, 
					msg,
					"세상에서 제일 맛있는 디저트 가게",
					JOptionPane.PLAIN_MESSAGE
					);
			break;
		case 3:
			break;
		case 2:
			break;
		case 1:
			break;
		case 0:
			return;
		}
	}
}
